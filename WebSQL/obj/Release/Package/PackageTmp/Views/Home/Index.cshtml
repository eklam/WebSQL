@using PerpetuumSoft.Knockout

@model WebSQL.Models.IndexModel
@{ var ko = Html.CreateKnockoutContext(); }
@section CustomHead {
    <style type="text/css">
        .emptySpace {
            width: 50px;
        }
    </style>
}

<div class="navbar navbar-fixed-top">
   <div class="navbar-inner">
     <div class="container">
       <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
         <span class="icon-bar"></span>
         <span class="icon-bar"></span>
         <span class="icon-bar"></span>
       </a>
       <a class="brand" href="../">SQL Management</a>
       <div class="nav-collapse collapse" id="main-menu">
        <ul class="nav" id="main-menu-left">
          <li class="emptySpace">&nbsp;</li>
          <li><a id="btnExecute" href="#">Execute</a></li>
          <li>
              <div style="width: 500px;">
               Database: <input type="text" id="txtDatabase" />
              <a href="#" id="btnChangeDb" >Change</a>
              <a href="#" id="btnSaveDb">Save</a>
                </div>
          </li>
          @*<li class="dropdown" id="preview-menu">
            <a class="dropdown-toggle" data-toggle="dropdown" href="#">Download <b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li><a target="_blank" href="bootstrap.min.css">bootstrap.min.css</a></li>
              <li><a target="_blank" href="bootstrap.css">bootstrap.css</a></li>
              <li class="divider"></li>
              <li><a target="_blank" href="variables.less">variables.less</a></li>
              <li><a target="_blank" href="bootswatch.less">bootswatch.less</a></li>
            </ul>
          </li>*@
            <li><a id="btnLogOff" href="#">Log Off</a></li>
        </ul>
        <ul class="nav pull-right" id="main-menu-right">
          <li><span id="txtCaretPos"></span></li>
          <li><a rel="tooltip" target="_blank" href="http://www.saninsoftware.com" title="" >Sanin Software</a></li>
        </ul>
       </div>
     </div>
   </div>


 </div>
<div class="leftNav">
    <div id="objTree">

    </div>
</div>
<div class="right">
    <div class="rightTop">
        <textarea id="txtSQL" class="wickEnabled" style="width: 1000px; height: 400px"></textarea>
    </div>
    <div class="rightBottom">
        <!--<table id="tblResults"></table>-->
        <div id="resultsGrid" ng-controller="ResultsGridCtrl">
            <div class="gridStyle" ng-grid="gridOptions">
            </div>
        </div>
    </div>
</div>

@Html.Partial("Login", new WebSQL.Models.LoginModel())

<script type="text/javascript">
    
    $(document).ready(function () {
        if (!viewModel.IsAuthenticated())
        {
            $('#myModal').modal('show');
        }
        else
        {
            LoginAuth();  
        }
    });



</script>

@ko.Apply(Model)
@ko.Initialize(Model)